/** 
 * Copyright (c) 2012 Jeremy Blalock - jblalock@berkeley.edu
 * Dual licensed under MIT and GPL.
 * @author Jeremy Blalock
 * @version 0.0.1
 */
(function(e){function t(e,t){var r=String.fromCharCode(e.which),i=t.val()+r;n(t,i)}function n(e,t){var n=r(e,t),i=parseInt(e.css("padding-top"))+parseInt(e.css("padding-bottom"))+parseInt(e.css("border-top-width"))+parseInt(e.css("border-bottom-width"));e.css({height:n+i})}function r(t,n){var r=e("<div></div>"),i;if(n.trim()==""){n="A"}r.css({font:t.css("font"),width:t.width(),lineHeight:t.css("line-height"),wordWrap:"break-word"});r.text(n);r.appendTo(e("body"));r.css("border","1px solid #000");i=r.height();r.remove();return i}function i(){$el=e(this);window.setTimeout(function(){n($el,$el.val())},0)}e.fn.autoexpand=function(){this.each(function(){e(this).keypress(function(n){t(n,e(this))});e(this).bind("paste",i);e(this).bind("cut",i);e(this).bind("keydown",i);e(this).bind("keyup",i)})}})(jQuery)